import{j as e,a as m,F as i,f as O,b as B,c as T,d as q,e as I,g as M,h as U,i as D,k as F,l as z,m as L,n as R}from"./vendor-font-awesome-fb8PRCmj.js";import{c as l,H,u,a as P,C as $,p as E,r as W,b as J}from"./index-lBioDFl4.js";import{S as Y}from"./Subtitle-Bx186bz3.js";import{L as k,u as G,b as K,O as Q}from"./vendor-react-Cx4ePrNi.js";import{u as V}from"./useTheme-BnJTU_K-.js";import{B as p}from"./Button-C3YJ6iVm.js";import{U as w,R as X}from"./RequirePolicy-BlAHeWT0.js";import{F as Z}from"./FoldoutIcon-C72KZmKq.js";import{D as _}from"./Divider-BLVUVjaf.js";import{f as ee}from"./formatDate-HarhDgxf.js";import{L as j}from"./LinkButton-4CeKKCqG.js";import{A as d}from"./appMeta-B1yHDSiB.js";import{B as g}from"./Badge-BYGKmlU7.js";import"./vendor-states-CBI6bQG0.js";const se=({children:t,className:s})=>e.jsx("header",{className:l("relative z-50 bg-white/90 dark:bg-mono-900/90 backdrop-blur-md border-b border-white/30 dark:border-mono-700/30 shadow-lg",s),children:e.jsx("div",{className:"w-full px-4 sm:px-6 py-2",children:t})}),te=({image:t,title:s,subtitle:a})=>e.jsxs(k,{to:"/",className:"flex items-center gap-3",children:[t&&e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center shadow-lg overflow-hidden",children:e.jsx("img",{src:t,alt:s,className:"w-full h-full object-cover text-transparent"})}),e.jsxs("div",{className:"hidden md:hidden lg:block",children:[e.jsx(H,{className:"text-xs xl:text-sm",children:s}),e.jsx(Y,{className:"text-xs xl:text-sm",children:a})]})]}),b=({title:t,to:s,icon:a})=>{const[o,r]=m.useState(!1),[n,c]=m.useState(!1),x=G(),f=x.pathname===s||s!=="/"&&x.pathname.startsWith(s),y="flex items-center gap-2 whitespace-nowrap rounded text-base font-medium",C="text-primary-600 dark:text-primary-400",A="text-mono-700 dark:text-mono-300 hover:text-primary-600 dark:hover:text-primary-400";m.useEffect(()=>{async function h(){r(!1),c(!1)}h()},[x.pathname]);const S=()=>{if(f)return;r(!0);const h=setTimeout(()=>{c(!0)},500);return()=>clearTimeout(h)};return e.jsxs(k,{to:s,onClick:S,className:l(y,f?C:A),children:[n&&o?e.jsx("div",{children:e.jsx(i,{icon:O,spin:!0})}):a?e.jsx("div",{children:e.jsx(i,{icon:a})}):null,t]})},ae=()=>{const{theme:t,toggleTheme:s}=V();return e.jsxs("button",{onClick:s,className:"relative inline-flex items-center justify-center w-12 h-6 bg-mono-200 dark:bg-mono-700 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-mono-800 hover:shadow-lg group","aria-label":`Switch to ${t==="light"?"dark":"light"} theme`,children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-linear-to-r from-blue-100 to-shade-100 dark:from-mono-600 dark:to-mono-800 transition-all duration-300"}),e.jsxs("div",{className:`absolute left-0.5 w-5 h-5 bg-white dark:bg-mono-300 rounded-full shadow-md transition-all duration-300 transform ${t==="dark"?"translate-x-6":"translate-x-0"} flex items-center justify-center`,children:[e.jsx(i,{icon:B,className:`absolute text-yellow-500 w-3 h-3 transition-all duration-300 ${t==="light"?"opacity-100 rotate-0":"opacity-0 -rotate-90"}`}),e.jsx(i,{icon:T,className:`absolute text-blue-400 w-3 h-3 transition-all duration-300 ${t==="dark"?"opacity-100 rotate-0":"opacity-0 rotate-90"}`})]})]})},re=({children:t,className:s})=>e.jsx("div",{className:l("min-h-screen bg-linear-to-br from-mono-50 to-mono-100 dark:from-mono-900 dark:to-mono-800 py-8 px-4 flex flex-col justify-between items-start",s),children:t}),ne=({children:t,isOpen:s,className:a})=>e.jsx("div",{className:l("transition-all duration-300 ease-in-out",s?"max-h-96 opacity-100":"max-h-0 opacity-0 overflow-hidden",a),children:e.jsx("div",{className:"py-4 border-t border-mono-200 dark:border-mono-700 mt-4",children:t})}),oe=({onClick:t,isOpen:s,className:a})=>e.jsx("button",{onClick:t,className:l("p-2 rounded-lg text-mono-700 dark:text-mono-300 hover:bg-mono-100 dark:hover:bg-mono-800",a),children:e.jsx(i,{icon:s?q:I,className:"w-5 h-5"})}),N=({title:t,value:s})=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-mono-500 dark:text-mono-400 uppercase tracking-wide",children:t}),e.jsx("span",{className:"text-mono-600 dark:text-mono-300",children:s})]}),ie=()=>{const{username:t,picture:s,user:a,signOut:o}=u(),{subscription:r}=P();return e.jsxs($,{className:"absolute right-4 top-18 -mt-2 w-80 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(w,{source:s??void 0,alt:"User Image",className:"w-10 h-10"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-mono-900 dark:text-mono-100 font-medium text-sm truncate",children:t}),e.jsx("p",{className:"text-mono-500 dark:text-mono-400 text-xs truncate",children:a?.email})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{title:"Account Tier",value:r?.name??"Who are you?"}),r?.endDate&&e.jsx(N,{title:"Renews",value:ee(r.endDate)})]}),e.jsx(_,{}),e.jsxs("div",{className:"-ml-2 mt-4 p-0 space-y-1",children:[e.jsx(X,{policy:E(J(),W("admin")),children:e.jsx(j,{navigateTo:"/posts/create",variant:"link",size:"small",shape:"square",className:"w-full justify-start",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(i,{icon:M,className:"w-4"}),"Create post"]})})}),e.jsx(j,{navigateTo:"/invites",variant:"link",size:"small",shape:"square",className:"w-full justify-start",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(i,{icon:U,className:"w-4"}),"Invites"]})}),e.jsx(p,{variant:"link",size:"small",shape:"square",className:"w-full justify-start",onClick:o,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(i,{icon:D,className:"w-4"}),"Sign Out"]})})]})]})};function le({className:t}){const[s,a]=m.useState(!1),{username:o,picture:r}=u();return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>a(!s),className:l("flex items-center gap-2 bg-white/95 dark:bg-mono-800/95 hover:bg-white dark:hover:bg-mono-800 backdrop-blur-md rounded-full pr-4 pl-3 py-2 text-mono-700 dark:text-mono-300 border border-mono-200 dark:border-mono-600 shadow-sm",t),children:[e.jsx(w,{source:r??void 0,alt:o??"Profile picture"}),e.jsx("span",{className:"text-sm font-medium text-nowrap truncate",children:o}),e.jsx(Z,{isOpen:s})]}),s&&e.jsx(ie,{})]})}const ce=()=>{const{initialized:t,isAuthenticated:s}=u(),a=K();return t?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[!s&&e.jsxs("div",{className:l("flex flex-row gap-2"),children:[e.jsx(p,{className:"whitespace-nowrap",variant:"link",shape:"rounded",animation:"static",onClick:()=>a("/login"),children:"Sign In"}),e.jsx(p,{className:"whitespace-nowrap",variant:"gradient",shape:"rounded",animation:"static",onClick:()=>a("/register"),children:"Join Us"})]}),s&&e.jsx(le,{className:"max-w-42"})]})}):null},v=[{to:"/",title:"Home",icon:F,requiresAuth:!1},{to:"/idea",title:"Submit idea",icon:z,requiresAuth:!0},{to:"/subscriptions",title:"Subscriptions",icon:L,requiresAuth:!1},{to:"/about",title:"About me",icon:R,requiresAuth:!1}],ye=({className:t})=>{const[s,a]=m.useState(!1),{isAuthenticated:o}=u();function r(){a(!1)}return e.jsxs("div",{className:l("text-mono-800 dark:text-mono-100 min-h-screen bg-linear-to-br from-primary-50 via-shade-50 to-primary-100 dark:from-mono-900 dark:via-mono-800 dark:to-mono-900 flex flex-col",t),children:[e.jsxs(se,{children:[e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsx(te,{image:d.logoUrl,title:d.appName,subtitle:d.appDescription}),e.jsx("div",{className:"hidden md:flex gap-6 justify-start",children:v.map((n,c)=>(!n.requiresAuth||o)&&e.jsx(b,{to:n.to,title:n.title,icon:n.icon},c))}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ae,{}),e.jsx(ce,{}),e.jsx(oe,{className:"md:hidden",isOpen:s,onClick:()=>{a(!s)}})]})]}),e.jsx(ne,{className:"block md:hidden",isOpen:s,children:e.jsx("div",{className:"flex flex-col gap-3",children:v.map((n,c)=>e.jsx(b,{to:n.to,title:n.title,icon:n.icon},c))})})]}),e.jsxs(re,{children:[e.jsx(Q,{}),e.jsxs("div",{className:"flex w-full mt-6 p-0 -mb-4 justify-center gap-2 select-none",children:[e.jsx(g,{variant:"gray",className:"max-w-xs text-xs",children:e.jsxs("p",{className:"p-0",children:[d.appOwner," Â© ",new Date().getFullYear()]})}),e.jsx(g,{variant:"gray",className:"text-xs max-w-xs",children:e.jsx("p",{children:"Developed by CR"})})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/40 z-40 md:hidden",onClick:r})]})};export{ye as default};
