import{j as r,F as n,Z as x,_ as f,$ as g,a0 as u,a1 as p,a2 as h,e as j,E as b,a3 as w,a as k,v,f as y}from"./vendor-font-awesome-fb8PRCmj.js";import{c as i,C as N}from"./index-DVJIb8Cr.js";import{f as C}from"./formatDate-HarhDgxf.js";import{c as l,T as B}from"./capitalizeWords-BTXM6-FP.js";import{s as T}from"./warning-CfR5ZzW-.js";import{R as $}from"./ReactionsGroup-DPcz6rW_.js";import{u as E}from"./posts.service-BP_r8Hbi.js";import{L as F}from"./LinkButton-CximMrm9.js";import{L}from"./vendor-react-Cx4ePrNi.js";import"./vendor-states-BrjWHaJB.js";const R=({title:e,pictureUrl:a,createdAt:s,className:o})=>r.jsxs("div",{className:i("flex items-start gap-4",o),children:[a&&r.jsx("img",{src:a,alt:`Preview for ${e}`,className:"w-16 h-16 rounded-full object-cover text-transparent shrink-0 shadow-md border-2 border-primary-200 dark:border-primary-600"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h2",{className:"text-3xl text-wrap wrap-break-word break-normal font-bold text-mono-800 dark:text-mono-100 font-serif group-hover:text-primary-700 dark:group-hover:text-primary-400",children:e}),s&&r.jsx("time",{className:"text-sm text-primary-500 dark:text-primary-400 font-medium font-sans",children:C(s)})]})]});function S(e){return e==="mature"?"bg-yellow-500 dark:bg-yellow-600":"bg-red-500 dark:bg-red-600"}const A=({explicitness:e,className:a})=>r.jsx("span",{className:i("px-3 py-1 text-white rounded-full text-xs font-bold font-sans uppercase tracking-wide shadow-md shrink-0",S(e),a),children:e.toUpperCase()}),W=e=>e==="gender"?x:e==="orientation"?f:e==="age"?g:e==="personality"?u:e==="race"?p:e==="body"?h:j,I=e=>{const a=l(e.from),s=l(e.to);return`${a}â†’${s}`},P=({transformation:e})=>r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 bg-primary-50
                          dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 
                          rounded-lg text-xs border border-primary-200 dark:border-primary-700`,children:[r.jsx(n,{icon:W(e.type),className:"text-xs"}),I(e)]}),m=({name:e,children:a,className:s})=>r.jsxs("div",{className:i("mb-6",s),children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsx("h3",{className:"text-sm font-semibold text-mono-500 dark:text-mono-400 uppercase tracking-wide font-sans",children:e})}),a]}),U=e=>{switch(e){case"extreme":case"graphic":return"bg-danger-500 dark:bg-danger-600 text-white border-danger-200 dark:border-danger-500";case"moderate":case"mild":return"bg-warning-100 dark:bg-warning-900/30 text-warning-700 dark:text-warning-300 border-warning-200 dark:border-warning-700";default:return"bg-green-100 dark:bg-mono-900/30 text-mono-700 dark:text-mono-300 border-mono-200 dark:border-mono-700"}},D=e=>{switch(e){case"extreme":case"graphic":return w;default:return b}},G=({warning:e})=>r.jsxs("span",{className:i("inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs border",U(e.level)),children:[r.jsx(n,{icon:D(e.level),className:"text-xs"}),l(e.text),r.jsxs("span",{className:"ml-1 opacity-70",children:["(",e.level,")"]})]}),Q=({post:e})=>{const[a,s]=k.useState(!1),{params:o,setParams:c}=E();return r.jsxs(N,{className:"relative w-full max-w-lg flex flex-col hover:border-primary-500",children:[e.metadata&&e.metadata.explicitness!=="safe"&&r.jsx(A,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",explicitness:e.metadata.explicitness}),r.jsx("div",{className:"flex justify-between items-start mb-8",children:r.jsx(L,{to:`/posts/${e.metadata?.slug}`,children:r.jsx(R,{title:e.title,pictureUrl:e.pictureUrl,createdAt:e.createdAt})})}),e.tags&&e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(t=>r.jsxs(B,{onClick:()=>c({...o,term:`#${t.value}`}),className:"cursor-pointer",children:["#",t.value]},t.value))}),r.jsx("p",{className:"text-mono-600 dark:text-mono-300 leading-relaxed mb-6 font-sans",children:e.summary}),e.warnings&&e.warnings.length>0&&r.jsx(m,{name:"Content Warnings",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:T(e.warnings).map(t=>r.jsx(G,{warning:t},t.text))})}),e.transformations&&e.transformations.length>0&&r.jsx(m,{name:"Transformations",children:r.jsx("div",{className:"space-y-2",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.transformations?.map((t,d)=>r.jsx(P,{transformation:t},d))})})}),r.jsx("div",{className:"grow"}),r.jsxs(F,{className:"w-full flex items-center justify-center space-x-2 py-3",shape:"square",navigateTo:`/posts/${e.metadata?.slug}`,onClick:()=>{s(!0)},variant:"primary",children:[!a&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Read Full Story"}),r.jsx(n,{icon:v})]}),a&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Loading..."}),r.jsx(n,{icon:y,spin:!0})]})]}),r.jsx($,{commentsCount:e.commentCount,viewsCount:e.views,reactions:e.reactions})]})};export{Q as default};
