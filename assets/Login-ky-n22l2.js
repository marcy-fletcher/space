import{j as s,o as f,p as g,F as t,f as w,q as x}from"./vendor-font-awesome-fb8PRCmj.js";import{u as j,C as h,l as y,d as b,E,e as P}from"./index-lBioDFl4.js";import{B as n}from"./Button-C3YJ6iVm.js";import{u as v}from"./useDocumentTitle-CWGRdlYI.js";import{I as m}from"./InputField-B-7MhsdR.js";import{u as A,a as I,o as S,s as C,e as L}from"./vendor-forms-CXz_4OM6.js";import{a as N}from"./vendor-states-CBI6bQG0.js";import{P as k}from"./PageHeader-1TgteFVd.js";import{y as F}from"./index-CcAK1yoR.js";import{u as B}from"./usePageLog-CpyrOzkW.js";import{A as q}from"./errors-DgiVCGd9.js";import{b as T}from"./vendor-react-Cx4ePrNi.js";import"./appMeta-B1yHDSiB.js";import"./InputLabel-DqjUQIAl.js";import"./InputIcon-B7ia0x9Z.js";const V=S({email:L({message:"Invalid email address"}).min(1,{message:"Email is required"}),password:C().min(6,{message:"Password must be at least 6 characters long"}).max(20,{message:"Password must be no longer than 20 characters"}).min(1,{message:"Password is required"})}),_=()=>{v("Login"),B("Login");const{register:r,formState:{isValid:l,errors:o},setError:c,handleSubmit:u}=A({resolver:I(V),mode:"onChange"}),{signIn:d}=j(),i=T(),{mutateAsync:p,isPending:a}=N({mutationFn:async e=>d(e.email,e.password),onError:e=>{b(E.authenticationError,e),e instanceof q&&c("email",{type:"custom",message:e.message}),F.error("An unexpected error occurred. Please try again later.")},onSuccess:()=>{y(P.signIn),window.scrollTo(0,0),i("/")}});return s.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center",children:[s.jsx(k,{title:"Welcome Back",subtitle:"Sign in to continue your journey"}),s.jsx("form",{className:"w-full max-w-md",onSubmit:u(async e=>await p(e)),noValidate:!0,children:s.jsxs(h,{className:"w-full space-y-6",children:[s.jsx(m,{disabled:a,icon:f,id:"email",label:"Email",type:"email",register:r,error:o.email}),s.jsx(m,{disabled:a,icon:g,id:"password",label:"Password",type:"password",register:r,error:o.password}),s.jsx(n,{disabled:!l||a,className:"w-full",type:"submit",children:a?s.jsx(t,{icon:w,spin:!0}):"Sign In"})]})}),s.jsxs(n,{variant:"link",className:"w-full max-w-md flex justify-center items-center mt-4 gap-2",onClick:()=>{window.scrollTo(0,0),i("/")},children:[s.jsx(t,{icon:x}),"Back to main page"]})]})};export{_ as default};
